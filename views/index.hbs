<html lang='en'>
    <head>
        <link rel='stylesheet' href='../assets/lib/bootstrap/css/bootstrap.min.css' />
        <link rel='stylesheet' href='../assets/lib/datatables/css/jquery.dataTables.min.css' />
        <link rel='stylesheet' type='text/css' href='../assets/lib/datatables/datatables.css' />

        <link rel='stylesheet' href='../assets/lib/font-awesome/css/all.css' />
        <link rel='stylesheet' href='../assets/styles/index.css' />

        <script type='text/javascript' src='../assets/lib/popper/popper.js'></script>
        <script type='text/javascript' src='../assets/lib/jquery/jquery-3.6.0.js'></script>
        <script type='text/javascript' src='../assets/lib/bootstrap/js/bootstrap.bundle.min.js'></script>
        <script type='text/javascript' src='../assets/lib/datatables/datatables.js'></script>

        <script type='text/javascript' src='../assets/scripts/index.js'></script>
        <title>Main Page</title>
    </head>
    <body>
        <div class='container h-100 w-100 p-5'>
            {{! <h1 class='text-center mb-4'>STADVDB</h1> }}
            <!--SEARCH BOX-->
            <form action='/search/1' method='get'>
                <div>
                    <div class='input-group input-group-lg mt-4 w-75 mx-auto'>
                        <span class='h3 mb-0 my-auto mr-3'>SEARCH</span>
                        <input id='moviename' name='movie_name' type='text' class='form-control' />
                        <div class='input-group-append'>
                            <button type='submit' class='btn btn-primary'><i class='fas fa-search'></i></button>
                        </div>

                        <!--CREATE-->
                        <a href='/' class='ml-3'><i class='far fa-house-chimney fa-3x'></i></a>
                        <a href='/create' class='ml-3'><i class='far fa-plus-square fa-3x'></i></a>
                        <a href='/report' class='ml-3'><i class='far fa-file-lines fa-3x'></i></a>
                    </div>
                </div>
            </form>

            {{! <!--CREATE-->
            <div class='text-right mb-5'>
                <a href='create' class='ml-3'><i class='far fa-plus-square fa-3x'></i></a>
            </div> }}

            <!--List of movies-->
            <table class='table' id='results'>
                <!--TABLE HEADER-->
                <thead>
                    <tr>
                        {{!<th scope='col'>ID</th>}}
                        <th scope='col'>Movie Name</th>
                        <th scope='col'>Year</th>
                        <th scope='col'>Rating</th>
                        <th scope='col'>Genre</th>
                        <th scope='col'>Director</th>
                        <th scope='col'>Actor 1</th>
                        <th scope='col'>Actor 2</th>
                    </tr>
                </thead>
                <!--TABLE CONTENT-->
                {{#if movies}}
                    <tbody>
                        {{#each movies}}
                            <tr class='movie-item' onclick="window.location.href = '/view/{{this.id}}';">
                                {{!<th scope='row'>{{this.id}}{{!</th>}}
                                <td>{{this.name}}</td>
                                <td>{{this.year}}</td>
                                <td>{{this.rating}}</td>
                                <td>{{this.genre}}</td>
                                <td>{{this.director}}</td>
                                <td>{{this.actor_1}}</td>
                                <td>{{this.actor_2}}</td>
                            </tr>
                        {{/each}}
                    </tbody>
                {{/if}}
            </table>
            {{#unless movies}}
                <h3 class='p-3 text-center text-muted' id='no-results'>No Results</h3>
            {{/unless}}
            <div class='d-flex justify-content-center'>
                <nav aria-label='Page navigation example'>
                    <ul class='pagination'>
                        <li class='page-item'>
                            <a class='page-link' id='page-prev' href='{{page_prev}}' aria-label='Previous'>
                                <span aria-hidden='true'>&laquo;</span>
                                <span class='sr-only'>Previous</span>
                            </a>
                        </li>
                        <li class='page-item active'>
                            <a class='page-link' id='page-cur' href='{{page}}'>{{page}}</a>
                        </li>
                        <li class='page-item'>
                            <a class='page-link' id='page-next' href='{{page_next}}' aria-label='Next'>
                                <span aria-hidden='true'>&raquo;</span>
                                <span class='sr-only'>Next</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </body>
</html>